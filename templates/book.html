{{ define "title" }}
    <title>{{.Title}}</title>
{{ end }}

{{ define "content" }}
    <h1>Book</h1>
    <h3>{{.Title}} by {{.Author}}</h3>
    <p>{{.Description}}</p>

    {{block "product-custom" .}}{{end}}
    
    {{ if .Variants }}
        {{ range .Variants }}
            <p>${{.Price}}</p>
            <p>{{.Stock}}</p>
            <p>{{.Color}}</p>
            {{block "variant-custom" .}}{{end}}
            <img src="/static/img/{{ .ImagePath }}" alt="Book Cover" width="100">
            <form action="/checkout" method="POST">
                <input type="hidden" name="id" value="{{$.ID}}">
                <button type="submit">Buy</button>
            </form>
        {{ end }}
    {{ else }}
        <p>No variants found</p>
    {{ end }}
{{ end }}